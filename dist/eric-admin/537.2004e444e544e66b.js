"use strict";(self.webpackChunkEricAdmin=self.webpackChunkEricAdmin||[]).push([[537],{1537:(et,x,l)=>{l.r(x),l.d(x,{UsersModule:()=>Ke});var _=l(9808),b=l(1083),k=l(4169);const S={path:"list",get url(){return`${k.Kt.url}/${this.path}`}},j={path:"detail",get url(){return`${k.Kt.url}/${this.path}`}};var d=l(3075),H=l(4339),t=l(5e3),I=l(6153),E=l(8966),$=l(520),R=l(5013),Z=l(6858);let V=(()=>{class i{constructor(e){this.$http=e}getUserList(e=1,a,n,s){let o=new $.LE;return o=o.set("page",e.toString()),o=o.set("limit",a.toString()),o=o.set("sort",n),s&&(o=o.set("search",s)),this.$http.get(R.pK,o)}addUser(e){return this.$http.post(`${R.O3}`,e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Z.O))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var z=l(4594),M=l(7423),T=l(5245),G=l(9224),f=l(7322),P=l(7531),Q=l(1837);function W(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Password should be contain a uppercase a lowercase a special character and a number "),t.qZA())}let K=(()=>{class i{constructor(e,a,n){this.$alert=e,this.dialogRef=a,this.$userService=n,this.userAdd=new d.cw({name:new d.NI("",[d.kI.required,d.kI.minLength(2)]),email:new d.NI("",[d.kI.required,d.kI.email]),password:new d.NI("",[d.kI.required,d.kI.maxLength(15),d.kI.minLength(7),d.kI.pattern(H.z)]),passwordConfirm:new d.NI("",[d.kI.required])},{validators:[this.matchPasswords("password","passwordConfirm")]})}ngOnInit(){}onSubmit(){this.$userService.addUser(this.userAdd.value).subscribe(a=>{this.$alert.success(a.message),this.dialogRef.close()})}matchPasswords(e,a){return n=>{console.log(n.controls);const o=n.controls[a];o.errors&&!o.errors.mustMatch||o.setErrors(n.controls[e].value!==o.value?{mustMatch:!0}:null)}}close(){this.dialogRef.close({add:!0})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(I.c),t.Y36(E.so),t.Y36(V))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-user-add"]],decls:40,vars:15,consts:[[1,"top"],["mat-icon-button","","color","warn",3,"click"],[1,"content"],[3,"formGroup","ngSubmit"],["appearance","standard"],["type","text","matInput","","placeholder","enter name","formControlName","name","required",""],["type","text","matInput","","placeholder","enter email","formControlName","email","required",""],["type","password","matInput","","placeholder","new password","formControlName","password","required",""],[4,"ngIf"],["type","password","matInput","","placeholder","confirm password","formControlName","passwordConfirm","required",""],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-toolbar",0)(1,"span"),t._uU(2,"\nAdd User "),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return a.close()}),t.TgZ(4,"mat-icon"),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"div",2)(7,"mat-card")(8,"form",3),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(9,"mat-form-field",4)(10,"mat-label"),t._uU(11,"Name"),t.qZA(),t._UZ(12,"input",5),t.TgZ(13,"mat-error"),t._uU(14),t.ALo(15,"validateError"),t.qZA()(),t.TgZ(16,"mat-form-field",4)(17,"mat-label"),t._uU(18,"Email"),t.qZA(),t._UZ(19,"input",6),t.TgZ(20,"mat-error"),t._uU(21),t.ALo(22,"validateError"),t.qZA()(),t.TgZ(23,"mat-form-field",4)(24,"mat-label"),t._uU(25,"Password"),t.qZA(),t._UZ(26,"input",7),t.TgZ(27,"mat-error"),t._uU(28),t.ALo(29,"validateError"),t.qZA(),t.YNc(30,W,2,0,"mat-error",8),t.qZA(),t.TgZ(31,"mat-form-field",4)(32,"mat-label"),t._uU(33,"Confirm Password"),t.qZA(),t._UZ(34,"input",9),t.TgZ(35,"mat-error"),t._uU(36," Password not matched "),t.qZA()(),t._UZ(37,"br"),t.TgZ(38,"button",10),t._uU(39," Submit "),t.qZA()()()()),2&e&&(t.xp6(8),t.Q6J("formGroup",a.userAdd),t.xp6(6),t.hij(" ",t.xi3(15,6,null==a.userAdd||null==a.userAdd.controls||null==a.userAdd.controls.name?null:a.userAdd.controls.name.errors,"name")," "),t.xp6(7),t.hij(" ",t.xi3(22,9,null==a.userAdd||null==a.userAdd.controls||null==a.userAdd.controls.email?null:a.userAdd.controls.email.errors,"email")," "),t.xp6(7),t.hij(" ",t.xi3(29,12,null==a.userAdd||null==a.userAdd.controls||null==a.userAdd.controls.password?null:a.userAdd.controls.password.errors,"New Password")," "),t.xp6(2),t.Q6J("ngIf",null==a.userAdd||null==a.userAdd.controls||null==a.userAdd.controls.password||null==a.userAdd.controls.password.errors?null:a.userAdd.controls.password.errors.pattern),t.xp6(8),t.Q6J("disabled",a.userAdd.invalid))},directives:[z.Ye,M.lW,T.Hw,G.a8,d._Y,d.JL,d.sg,f.KE,f.hX,P.Nt,d.Fj,d.JJ,d.u,d.Q7,f.TO,_.O5],pipes:[Q.t],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%}@media screen and (min-width: 600px) and (max-width: 980px){form[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 600px){form[_ngcontent-%COMP%]{width:100%}}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:10rem}.top[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),i})();var q=l(2016),v=l(727),J=l(4968),X=l(8372);const ee=["search"];let te=(()=>{class i{constructor(e){this.$renderer=e,this.search="",this.searchPlaceholder="",this.onSearch=new t.vpe,this.searchSubs=new v.w0,this.clear=0}ngOnInit(){}ngAfterViewInit(){this.startSearch()}startSearch(){this.searchSubs=(0,J.R)(this.searchElement.nativeElement,"input").pipe((0,X.b)(500)).subscribe(e=>{this.search=e.target.value,this.search&&this.search.trim()&&this.onSearch.emit(this.search),this.search||this.onSearch.emit(this.search)})}clearValue(){this.$renderer.setProperty(this.searchElement.nativeElement,"value","")}ngOnChanges(){this.clear&&(console.log("clear",this.clear),this.clearValue(),this.clear=0)}ngOnDestroy(){this.searchSubs&&this.searchSubs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Qsj))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-search"]],viewQuery:function(e,a){if(1&e&&t.Gf(ee,5),2&e){let n;t.iGM(n=t.CRH())&&(a.searchElement=n.first)}},inputs:{searchPlaceholder:"searchPlaceholder",clear:"clear"},outputs:{onSearch:"onSearch"},features:[t.TTD],decls:3,vars:1,consts:[[1,"search-bar"],["type","search",3,"placeholder"],["search",""]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"input",1,2),t.qZA()),2&e&&(t.xp6(1),t.s9C("placeholder",a.searchPlaceholder))},styles:[""]}),i})();var ae=l(773),p=l(4999),F=l(4847),ie=l(9062);function ne(i,r){1&i&&(t.TgZ(0,"div",22),t._UZ(1,"mat-spinner",23),t.qZA()),2&i&&(t.xp6(1),t.Q6J("strokeWidth",5))}function re(i,r){1&i&&(t.TgZ(0,"th",24),t._uU(1,"S.N."),t.qZA())}function se(i,r){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=r.index,a=t.oxw();t.xp6(1),t.hij(" ",10*(a.page-1)+(e+1),". ")}}function oe(i,r){1&i&&(t.TgZ(0,"th",26),t._uU(1," Registered At "),t.qZA())}function le(i,r){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.created_at))}}function de(i,r){1&i&&(t.TgZ(0,"th",27),t._uU(1,"Image"),t.qZA())}function ce(i,r){if(1&i&&(t.TgZ(0,"div",29),t._UZ(1,"img",30),t.qZA()),2&i){const e=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.s9C("src",a.image_url+(null==e?null:e.profile_pic),t.LSH)}}function he(i,r){1&i&&(t.TgZ(0,"div",29),t._UZ(1,"img",31),t.qZA())}function ue(i,r){if(1&i&&(t.TgZ(0,"td",25),t.YNc(1,ce,2,1,"div",28),t.YNc(2,he,2,0,"div",28),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.profile_pic),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.profile_pic))}}function pe(i,r){1&i&&(t.TgZ(0,"th",26),t._uU(1," User Name "),t.qZA())}function _e(i,r){if(1&i&&(t.TgZ(0,"td",25)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.name," ")}}function me(i,r){1&i&&(t.TgZ(0,"th",24),t._uU(1,"Email"),t.qZA())}function ge(i,r){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e?null:e.email," ")}}function fe(i,r){1&i&&(t.TgZ(0,"span"),t._uU(1," -- "),t.qZA())}function ve(i,r){if(1&i&&(t.TgZ(0,"td",25),t.YNc(1,ge,2,1,"span",32),t.YNc(2,fe,2,0,"span",32),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.email),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.email))}}function De(i,r){1&i&&t._UZ(0,"tr",33)}function ye(i,r){1&i&&t._UZ(0,"tr",34)}const Ce=function(){return[5,10,25,50]};function be(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-paginator",35),t.NdJ("page",function(n){return t.CHM(e),t.oxw().pageChange(n)}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("length",e.totalUser)("pageSize",e.limit)("pageSizeOptions",t.DdM(3,Ce))}}function Me(i,r){1&i&&(t.TgZ(0,"div",36)(1,"span"),t._uU(2,"No Data Found"),t.qZA()())}const we=[{path:"",redirectTo:S.path,pathMatch:"full"},{path:S.path,component:(()=>{class i{constructor(e,a,n,s,o){this.$userService=e,this.$alert=a,this.$dialogService=n,this.$router=s,this.$dialog=o,this.totalUser=0,this.selectedFilter="all",this.deleted=!1,this.maxDate=new Date,this.columnToDisplay=["sn","image","fullName","email","created_at"],this.page=1,this.limit=10,this.sort=this.$userService.sort?this.$userService.sort:"-created_at",this.search="",this.sortDir="desc",this.fields="profile_pic,first_name, last_name, country_code, mobile_no,created_at,email",this.image_url="",this.isLoading=!1}ngOnInit(){this.getUserList()}getUserList(){this.isLoading=!0,this.$userService.getUserList(this.page,this.limit,this.sort,this.search).subscribe(e=>{console.log(e.data.user),this.users=e.data.user,this.totalUser=e.data.count,this.isLoading=!1},e=>{this.isLoading=!1})}onSearch(e){console.log("serch",e),this.page=1,this.search=e,this.getUserList()}deletedUsers(){}pageChange(e){this.page=e.pageIndex+1,this.limit=e.pageSize,this.getUserList()}sortChange(e){let a=e.active;if("asc"===e.direction)this.sort=a,this.sortDir="asc";else{if("desc"!==e.direction)return;this.sort=`-${a}`,this.sortDir="desc"}this.getUserList()}userDetails(e){this.$userService.sort=this.sort,this.$router.navigate([j.url,e])}onFilterChange(e){this.selectedFilter=e.target.value,"all"===this.selectedFilter&&(this.deleted=!1),"deleted"===this.selectedFilter&&(this.deleted=!0),this.getUserList()}addUser(){this.$dialog.open(K,{height:"auto",width:"50%",minWidth:"300px",maxHeight:"90vh"}).afterClosed().subscribe(a=>{a&&this.getUserList()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(V),t.Y36(I.c),t.Y36(q.x),t.Y36(b.F0),t.Y36(E.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-users-list"]],decls:34,vars:10,consts:[[1,"content"],[1,"mid-bar"],[1,"search-bar-box","mid-bar-item"],[3,"searchPlaceholder","clear","onSearch"],["mat-raised-button","","color","primary",1,"mid-bar-item",3,"click"],[1,"mat-elevation-z8","table-responsive",2,"position","relative"],["class","loader",4,"ngIf"],[1,"table-wrapper"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","desc",3,"dataSource","matSortChange"],["matColumnDef","sn",1,"format-column"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","created_at",1,"format-column"],["mat-header-cell","","mat-sort-header","","disableClear","",4,"matHeaderCellDef"],["matColumnDef","image"],["mat-header-cell","","style","padding: 15px",4,"matHeaderCellDef"],["matColumnDef","fullName",1,"format-column"],["matColumnDef","email",1,"format-column"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","data-row",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"loader"],["color","accent",3,"strokeWidth"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","","disableClear",""],["mat-header-cell","",2,"padding","15px"],["class","user-image",4,"ngIf"],[1,"user-image"],["alt","avatar",3,"src"],["src","assets/images/person.png","alt","avatar"],[4,"ngIf"],["mat-header-row",""],["mat-row","",1,"data-row"],[3,"length","pageSize","pageSizeOptions","page"],[1,"no-data"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"USER LIST"),t.qZA(),t.TgZ(3,"div",1)(4,"div",2)(5,"app-search",3),t.NdJ("onSearch",function(s){return a.onSearch(s)}),t.qZA()()(),t._UZ(6,"hr"),t.TgZ(7,"button",4),t.NdJ("click",function(){return a.addUser()}),t._uU(8," Add User "),t.TgZ(9,"mat-icon"),t._uU(10,"add_circle"),t.qZA()(),t.TgZ(11,"div",5),t.YNc(12,ne,2,1,"div",6),t.TgZ(13,"div",7)(14,"table",8),t.NdJ("matSortChange",function(s){return a.sortChange(s)}),t.ynx(15,9),t.YNc(16,re,2,0,"th",10),t.YNc(17,se,2,1,"td",11),t.BQk(),t.ynx(18,12),t.YNc(19,oe,2,0,"th",13),t.YNc(20,le,3,3,"td",11),t.BQk(),t.ynx(21,14),t.YNc(22,de,2,0,"th",15),t.YNc(23,ue,3,2,"td",11),t.BQk(),t.ynx(24,16),t.YNc(25,pe,2,0,"th",13),t.YNc(26,_e,3,1,"td",11),t.BQk(),t.ynx(27,17),t.YNc(28,me,2,0,"th",10),t.YNc(29,ve,3,2,"td",11),t.BQk(),t.YNc(30,De,1,0,"tr",18),t.YNc(31,ye,1,0,"tr",19),t.qZA()(),t.YNc(32,be,1,4,"mat-paginator",20),t.YNc(33,Me,3,0,"div",21),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("searchPlaceholder","Search user by name")("clear",a.clear),t.xp6(7),t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Udp("display",a.isLoading?"none":"block"),t.xp6(1),t.Q6J("dataSource",a.users),t.xp6(16),t.Q6J("matHeaderRowDef",a.columnToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",a.columnToDisplay),t.xp6(1),t.Q6J("ngIf",a.totalUser),t.xp6(1),t.Q6J("ngIf",!a.totalUser&&!a.isLoading))},directives:[te,M.lW,T.Hw,_.O5,ae.Ou,p.BZ,F.YE,p.w1,p.fO,p.ge,p.Dz,p.ev,F.nU,p.as,p.XQ,p.nj,p.Gk,ie.NW],pipes:[_.uU],styles:[".user-image[_ngcontent-%COMP%]{padding:.2rem}.user-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:5rem;width:5rem}.view-btn[_ngcontent-%COMP%]{background-color:inherit;outline:none;cursor:pointer}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;outline:none;border:.1rem solid #DD4445;border-radius:.9rem;margin-left:1rem;cursor:pointer}.format-column[_ngcontent-%COMP%]{padding:10px;margin:5px}.data-row[_ngcontent-%COMP%], .data-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:1250px}.filter-options[_ngcontent-%COMP%]{right:4%;position:absolute;padding:6px;border:1px solid #757575;border-radius:6px}.filter-options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.filter-options[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;outline:none;background:inherit}"]}),i})(),data:{heading:"USER LIST"}}];let xe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,b.Bz.forChild(we)],b.Bz]}),i})();var O=l(2344),Y=l(4476),ke=l(5664),N=l(9776),Se=l(7429),Ie=l(8962),u=l(508),A=l(7579);l(1159),l(3191),l(1777);let Ue=(()=>{class i{constructor(){this.changes=new A.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,a){return`${e} \u2013 ${a}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const $e={provide:new t.OlP("mat-datepicker-scroll-strategy"),deps:[N.aV],useFactory:function He(i){return()=>i.scrollStrategies.reposition()}};let We=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[Ue,$e],imports:[[_.ez,M.ot,N.U8,ke.rt,Se.eL,u.BQ],Ie.ZD]}),i})(),Ke=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[u.XK],imports:[[_.ez,xe,O.m,Y.q,We,u.XK,d.u5],O.m,Y.q]}),i})()}}]);